<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Mapping the Mind</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #ffffff;
      margin: 0;
      padding: 0;
      color: #333;
    }
    header {
      background-color: #f7f7f7;
      text-align: center;
      padding: 2rem;
    }
    nav {
      background: #e0e0e0;
      padding: 1rem;
      display: flex;
      justify-content: center;
      gap: 2rem;
    }
    nav a {
      text-decoration: none;
      color: #555;
      font-weight: bold;
    }
    .container {
      padding: 2rem;
      max-width: 1000px;
      margin: auto;
    }
    h2 {
      color: #555;
    }
    .form-section {
      margin-bottom: 2rem;
      padding: 1rem;
      background: #f9f9f9;
      border-radius: 8px;
    }
    label {
      display: block;
      margin: 1rem 0 0.5rem;
    }
    select, textarea, input[type=submit] {
      width: 100%;
      padding: 0.5rem;
      margin-bottom: 1rem;
      border: 1px solid #ccc;
      border-radius: 4px;
    }
    footer {
      text-align: center;
      padding: 2rem;
      font-size: 0.9rem;
      color: #999;
    }
    canvas {
      width: 100% !important;
      max-width: 800px;
      height: auto !important;
      margin-top: 2rem;
    }
    .recommendations {
      margin-top: 2rem;
      padding: 1rem;
      background: #e8f5e9;
      border-radius: 8px;
    }
  </style>
</head>
<body>

<header>
  <h1>Mapping the Mind</h1>
  <p>Track your meditation reflections and discover your inner patterns.</p>
</header>

<nav>
  <a href="#home">Home</a>
  <a href="#reflection">Daily Reflection</a>
  <a href="#patterns">Track Patterns</a>
  <a href="#resources">Resources</a>
</nav>

<div class="container" id="home">
  <h2>Welcome</h2>
  <p>Begin your journey inward. Meditation is more than calmness – it is the art of seeing the mind as it is. Witness your gunas. Witness yourself.</p>
</div>

<div class="container" id="reflection">
  <h2>Daily Reflection</h2>
  <div class="form-section">
    <form id="reflectionForm">
      <label for="mindstate">How was your mind today?</label>
      <select id="mindstate" name="mindstate">
        <option value="calm">Calm</option>
        <option value="restless">Restless</option>
        <option value="heavy">Heavy</option>
        <option value="clear">Clear</option>
        <option value="dull">Dull</option>
        <option value="energized">Energized</option>
      </select>

      <label for="guna">Which guna was strongest?</label>
      <select id="guna" name="guna">
        <option value="sattva">Sattva (clarity)</option>
        <option value="rajas">Rajas (restlessness)</option>
        <option value="tamas">Tamas (inertia)</option>
      </select>

      <label for="reflection">One sentence reflection:</label>
      <textarea id="reflection" name="reflection" rows="4"></textarea>

      <input type="submit" value="Submit Reflection">
    </form>
    <div id="recommendation" class="recommendations" style="display:none;"></div>
  </div>
</div>

<div class="container" id="patterns">
  <h2>Track My Patterns</h2>
  <canvas id="gunaChart"></canvas>
  <canvas id="monthlyChart"></canvas>
</div>

<div class="container" id="resources">
  <h2>Resources</h2>
  <ul>
    <li><strong>What are the Gunas?</strong> – Understand the basic forces shaping consciousness.</li>
    <li><strong>Why Still the Mind?</strong> – Insights from the Yoga Sutras.</li>
    <li><strong>The Role of Self-Study (Svādhyāya)</strong> – Reflection as transformation.</li>
  </ul>
</div>

<footer>
  <p>&copy; 2025 Mapping the Mind. Designed for mindful growth.</p>
</footer>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
document.getElementById('reflectionForm').addEventListener('submit', function(event) {
  event.preventDefault();
  const guna = document.getElementById('guna').value;
  let recommendationText = '';

  if (guna === 'sattva') {
    recommendationText = 'Continue practices that enhance clarity, such as early morning meditation and light reading of spiritual texts.';
  } else if (guna === 'rajas') {
    recommendationText = 'Focus on grounding practices: slow breathing exercises, mindful walking, and reducing external stimulation.';
  } else if (guna === 'tamas') {
    recommendationText = 'Incorporate energizing activities like morning sunlight exposure, dynamic yoga, and invigorating breathing techniques.';
  }

  const recDiv = document.getElementById('recommendation');
  recDiv.style.display = 'block';
  recDiv.innerText = recommendationText;
});

const gunaData = {
  labels: ['January', 'February', 'March', 'April', 'May', 'June'],
  datasets: [{
    label: 'Sattva',
    data: [12, 15, 18, 20, 22, 25],
    backgroundColor: 'gold',
  }, {
    label: 'Rajas',
    data: [8, 10, 9, 7, 5, 4],
    backgroundColor: 'red',
  }, {
    label: 'Tamas',
    data: [5, 4, 3, 3, 2, 1],
    backgroundColor: 'blue',
  }]
};

const gunaConfig = {
  type: 'bar',
  data: gunaData,
  options: {
    responsive: true,
    plugins: {
      legend: { position: 'top' },
      title: { display: true, text: 'Gunas Tracked Over 6 Months' }
    }
  }
};

const monthlyConfig = {
  type: 'line',
  data: {
    labels: ['January', 'February', 'March', 'April', 'May', 'June'],
    datasets: [{
      label: 'Mind Stillness %',
      data: [50, 55, 60, 65, 70, 80],
      borderColor: 'green',
      backgroundColor: 'lightgreen',
      fill: true,
    }]
  },
  options: {
    responsive: true,
    plugins: {
      legend: { position: 'top' },
      title: { display: true, text: 'Mind Stillness Growth Over 6 Months' }
    }
  }
};

new Chart(document.getElementById('gunaChart'), gunaConfig);
new Chart(document.getElementById('monthlyChart'), monthlyConfig);
</script>

</body>
</html>
